"use strict";var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var h=(a,t)=>{for(var e in t)c(a,e,{get:t[e],enumerable:!0})},x=(a,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of m(t))!y.call(a,r)&&r!==e&&c(a,r,{get:()=>t[r],enumerable:!(s=p(t,r))||s.enumerable});return a};var b=a=>x(c({},"__esModule",{value:!0}),a);var l={};h(l,{PercentageController:()=>u});module.exports=b(l);var d=require("@prisma/client"),n=new d.PrismaClient({});n.$disconnect();var o=(a,t=!1,e="")=>({data:a,error:t,errorMessage:e});var i=class{static async DatabaseMethodSelectAll(){try{let t=await n.percentage_today.findFirst();return o(Number(t==null?void 0:t.percentage))}catch(t){return o([],!0,t)}}static async DatabaseMethodCreation(t){let e=await this.DatabaseMethodAuxiliariesCheckExistsPercentage();if(e){let s=await n.percentage_today.update({where:{id:e},data:{percentage:t}});return o(s)}else{let s=await n.percentage_today.create({data:{percentage:t}});return o(s)}}static async DatabaseMethodAuxiliariesCheckExistsPercentage(){let t=await n.percentage_today.findFirst();return t==null?void 0:t.id}};var u=class{static async index(t,e){let s=await i.DatabaseMethodSelectAll();return e.json(s)}static async store(t,e){let s=Number(t.body.money),r=await i.DatabaseMethodCreation(s);return e.json(r)}};0&&(module.exports={PercentageController});
