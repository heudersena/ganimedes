"use strict";var y=Object.create;var o=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty;var M=(e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})},s=(e,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of d(t))!P.call(e,r)&&r!==n&&o(e,r,{get:()=>t[r],enumerable:!(a=_(t,r))||a.enumerable});return e};var c=(e,t,n)=>(n=e!=null?y(u(e)):{},s(t||!e||!e.__esModule?o(n,"default",{value:e,enumerable:!0}):n,e)),f=e=>s(o({},"__esModule",{value:!0}),e);var g={};M(g,{MercadoPagoUtils:()=>i});module.exports=f(g);var m=c(require("mercadopago")),p=c(require("dayjs"));m.default.configurations.setAccessToken(String(process.env.MERCADO_PAGO_KEY_PROD));var i=class{static async CreatePayment(t){var n;try{let a={transaction_amount:t.transaction_amount,payment_method_id:t.payment_method_id,payer:{email:t.payer.email},installments:1,date_of_expiration:String((0,p.default)(new Date).add(6,"minutes").format("YYYY-MM-DDTHH:mm:ss.000ZZ"))};return await((n=m.default.payment)==null?void 0:n.save(a))}catch(a){return a}}static async GetPayment(t){try{return await m.default.payment.findById(t)}catch(n){return n}}};0&&(module.exports={MercadoPagoUtils});
